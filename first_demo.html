<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<title>First demo</title>
<link rel="stylesheet" href="css/css.css">
</head>

<body>

<script src="js/jquery.js"></script>
<script src="js/new.js"></script>

<script type="text/javascript">

window.onload = function(){

    alice = new Person("alice", "img/alice.png", 100, 50, 1);
    bob = new Person("bob", "img/bob.png", 500, 50, -1);
    alice_coin = new Coin("alice_coin", 200, 80);
    bob_coin = new Coin("bob_coin", 400, 80);

    $("#content").click(function(){
        if (locked){return;}
        locked=true;
        alice.reset();
        bob.reset();
        alice_coin.flip();
        bob_coin.flip();
    });

    alice_coin.onLand = function(){
        var choice = Math.random()>0.5 ? "circle" : "triangle";
        setTimeout(function(){alice.say(choice, false);}, 250);
    }

    bob_coin.onLand = function(){
        var choice = Math.random()>0.5 ? "circle" : "triangle";
        setTimeout(function(){bob.say(choice, false);}, 250);
    }

    alice.afterSay = function(){locked=false;}
}

</script>

<div id="content" style="width:600px; height:100px;"> </div>

</body>
</html>
